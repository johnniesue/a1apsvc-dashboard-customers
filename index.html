<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-1 Plumbing Customer & Job Management</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîß</text></svg>">
</head>
<body>
    <header>
        <h1>üîß A-1 Plumbing Customer & Job Management</h1>
        <p>Professional Plumbing Services - Customer Intake & Job Tracking System</p>
    </header>
    
    <main>
        <section class="form-section">
            <h2>Customer & Job Information</h2>
            
            <form id="customerForm">
                <fieldset class="customer-info">
                    <legend>Customer Information</legend>
                    <div class="form-grid">
                        <input type="text" id="firstName" placeholder="First Name *" required />
                        <input type="text" id="lastName" placeholder="Last Name *" required />
                        <input type="text" id="company" placeholder="Company" />
                        <input type="email" id="email" placeholder="Email" />
                        <input type="tel" id="mobile" placeholder="Mobile Phone" />
                        <input type="tel" id="home" placeholder="Home Phone" />
                        <input type="tel" id="work" placeholder="Work Phone" />
                        <select id="customerType">
                            <option value="">Customer Type</option>
                            <option value="Residential">Residential</option>
                            <option value="Commercial">Commercial</option>
                            <option value="Emergency">Emergency</option>
                            <option value="Maintenance">Maintenance Contract</option>
                        </select>
                        <select id="leadSource">
                            <option value="">Lead Source</option>
                            <option value="Google">Google Search</option>
                            <option value="Referral">Referral</option>
                            <option value="Facebook">Facebook</option>
                            <option value="Yelp">Yelp</option>
                            <option value="Repeat Customer">Repeat Customer</option>
                            <option value="Yellow Pages">Yellow Pages</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="address-section">
                        <input type="text" id="address" placeholder="Service Address *" required />
                        <small>üí° Enter the complete service address including city and state</small>
                    </div>
                </fieldset>
                
                <fieldset class="job-info">
                    <legend>Job Information</legend>
                    <div class="form-grid">
                        <select id="jobType">
                            <option value="">Job Type</option>
                            <option value="Drain Cleaning">Drain Cleaning</option>
                            <option value="Leak Repair">Leak Repair</option>
                            <option value="Water Heater">Water Heater Service</option>
                            <option value="Toilet Repair">Toilet Repair</option>
                            <option value="Faucet Repair">Faucet Repair</option>
                            <option value="Pipe Repair">Pipe Repair</option>
                            <option value="Emergency Service">Emergency Service</option>
                            <option value="Installation">New Installation</option>
                            <option value="Inspection">Inspection</option>
                            <option value="Maintenance">Maintenance</option>
                        </select>
                        
                        <select id="jobPriority">
                            <option value="">Priority Level</option>
                            <option value="Low">Low</option>
                            <option value="Normal">Normal</option>
                            <option value="High">High</option>
                            <option value="Emergency">Emergency</option>
                        </select>
                        
                        <select id="jobStatus">
                            <option value="">Job Status</option>
                            <option value="Quote Requested">Quote Requested</option>
                            <option value="Scheduled">Scheduled</option>
                            <option value="En Route">En Route</option>
                            <option value="In Progress">In Progress</option>
                            <option value="Completed">Completed</option>
                            <option value="Cancelled">Cancelled</option>
                            <option value="Follow-up Required">Follow-up Required</option>
                        </select>
                        
                        <select id="assignedTech">
                            <option value="">Assign Technician</option>
                            <option value="Chris Crabtree">Chris Crabtree (Master Plumber)</option>
                            <option value="Kian Crabtree">Kian Crabtree (Apprentice)</option>
                            <option value="Mike Johnson">Mike Johnson</option>
                            <option value="Steve Rodriguez">Steve Rodriguez</option>
                            <option value="Tom Wilson">Tom Wilson</option>
                        </select>
                        
                        <input type="datetime-local" id="scheduledDate" />
                        <label for="scheduledDate" class="field-label">Scheduled Date & Time</label>
                        
                        <select id="estimatedDuration">
                            <option value="">Estimated Duration</option>
                            <option value="30 minutes">30 minutes</option>
                            <option value="1 hour">1 hour</option>
                            <option value="1.5 hours">1.5 hours</option>
                            <option value="2 hours">2 hours (Standard)</option>
                            <option value="3 hours">3 hours</option>
                            <option value="4+ hours">4+ hours</option>
                            <option value="Full day">Full day</option>
                        </select>
                    </div>
                </fieldset>
                
                <fieldset class="notes-section">
                    <legend>Additional Information</legend>
                    <textarea id="notes" placeholder="Job notes, special instructions, customer requests, problem description, etc." rows="4"></textarea>
                </fieldset>
                
                <div class="form-actions">
                    <button type="submit" id="submitBtn" class="primary-btn">üíæ Save Customer & Job</button>
                    <button type="button" id="cancelEdit" class="secondary-btn" style="display: none;">‚ùå Cancel Edit</button>
                </div>
            </form>
            
            <div id="responseMessage" class="response-message"></div>
        </section>
        
        <!-- Quick Actions for Mobile Techs -->
        <section class="quick-actions mobile-section">
            <h3>üì± Quick Actions for Techs</h3>
            <div class="quick-buttons">
                <button id="quickScheduled" class="quick-btn scheduled">üìÖ Mark Scheduled</button>
                <button id="quickEnRoute" class="quick-btn en-route">üöó I'm En Route</button>
                <button id="quickInProgress" class="quick-btn in-progress">üîß Job Started</button>
                <button id="quickCompleted" class="quick-btn completed">‚úÖ Job Complete</button>
            </div>
            <p class="quick-help">üí° Use these buttons for quick status updates. Select customers from the table below first.</p>
        </section>
        
        <section class="table-section">
            <h2>üìã Customer & Job Records</h2>
            <div class="table-container">
                <table id="customerTable">
                    <thead>
                        <tr>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Company</th>
                            <th>Address</th>
                            <th>Mobile</th>
                            <th>Email</th>
                            <th>Job Type</th>
                            <th>Priority</th>
                            <th>Status</th>
                            <th>Assigned Tech</th>
                            <th>Scheduled</th>
                            <th>Duration</th>
                            <th>Notes</th>
                            <th>Created</th>
                            <th>Edit</th>
                            <th>Delete</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="16" class="loading">Loading customer data...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        
        <!-- Status Legend -->
        <section class="legend-section">
            <h3>üìä Status Legend</h3>
            <div class="status-legend">
                <div class="legend-item">
                    <span class="status-badge status-quote-requested">Quote Requested</span>
                    <span>Customer needs pricing information</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge status-scheduled">Scheduled</span>
                    <span>Appointment confirmed with customer</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge status-en-route">En Route</span>
                    <span>Technician is traveling to job site</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge status-in-progress">In Progress</span>
                    <span>Work is currently being performed</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge status-completed">Completed</span>
                    <span>Job finished successfully</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge status-cancelled">Cancelled</span>
                    <span>Job was cancelled by customer or company</span>
                </div>
            </div>
        </section>
        
        <!-- System Info -->
        <section class="info-section">
            <h3>‚ÑπÔ∏è System Information</h3>
            <div class="info-grid">
                <div class="info-card">
                    <h4>üî• Firebase Status</h4>
                    <p>Real-time database for customer and job data</p>
                    <div id="firebaseStatus" class="status-indicator">Connecting...</div>
                </div>
                <div class="info-card">
                    <h4>üì± Mobile Friendly</h4>
                    <p>Optimized for field technicians on mobile devices</p>
                    <div class="status-indicator success">Ready</div>
                </div>
                <div class="info-card">
                    <h4>üîí Data Security</h4>
                    <p>All customer data is securely stored and encrypted</p>
                    <div class="status-indicator success">Protected</div>
                </div>
                <div class="info-card">
                    <h4>üó∫Ô∏è Maps Integration</h4>
                    <p>Google Maps will be added in the next update</p>
                    <div class="status-indicator pending">Coming Soon</div>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2024 A-1 Affordable Plumbing Services - Professional Customer & Job Management System</p>
        <p>üìû <strong>469-900-5194</strong> | üìß <strong>johnniesue@a-1apsvc.com</strong> | üè† <strong>Lucas, TX</strong></p>
    </footer>
    
    <!-- Firebase SDK v9 (Compat version) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-compat-firestore.js"></script>
    
    <!-- Simplified Customer & Job Management Script -->
    <script src="script.js"></script>
</body>
</html>

