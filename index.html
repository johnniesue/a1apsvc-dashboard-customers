<!DOCTYPE html><!-- Test deploy triggered by Copilot -->

<html lang="en">
<head>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-compat-database.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-1 Plumbing Customer & Job Management</title>
    <link rel="stylesheet" href="style.css">
    <!-- Firebase SDK v9 -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-compat-firestore.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header with Logo -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <img src="images/Eagle w Wrench Logo.png" alt="A-1 Affordable Plumbing Services Logo" class="company-logo">
                </div>
                <div class="title-section">
                    <h1>üîß A-1 Plumbing Customer & Job Management</h1>
                    <p class="subtitle">Professional Plumbing Services ‚Ä¢ Customer Intake & Job Tracking System</p>
                </div>
            </div>
        </header>

        <!-- Customer & Job Information Form -->
        <section class="form-section">
            <h2>Customer & Job Information</h2>
            
            <form id="customerForm">
                <!-- Customer Information -->
                <div class="form-group-section">
                    <h3>Customer Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name *</label>
                            <input type="text" id="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name *</label>
                            <input type="text" id="lastName" required>
                        </div>
                        <div class="form-group">
                            <label for="company">Company</label>
                            <input type="text" id="company">
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="mobilePhone">Mobile Phone</label>
                            <input type="tel" id="mobilePhone">
                        </div>
                        <div class="form-group">
                            <label for="homePhone">Home Phone</label>
                            <input type="tel" id="homePhone">
                        </div>
                        <div class="form-group">
                            <label for="workPhone">Work Phone</label>
                            <input type="tel" id="workPhone">
                        </div>
                        <div class="form-group">
                            <label for="customerType">Customer Type</label>
                            <select id="customerType">
                                <option value="">Select Type</option>
                                <option value="residential">Residential</option>
                                <option value="commercial">Commercial</option>
                                <option value="property-manager">Property Manager</option>
                                <option value="contractor">Contractor</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="leadSource">Lead Source</label>
                            <input type="text" id="leadSource" placeholder="How did they find us?">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="serviceAddress">Service Address *</label>
                            <input type="text" id="serviceAddress" placeholder="Enter the complete service address including city and state" required>
                            <small>üí° Start typing for address suggestions, or click on the map below</small>
                        </div>
                    </div>
                    
                    <!-- Address Status -->
                    <div id="addressStatus" class="address-status"></div>
                </div>

                <!-- Job Information -->
                <div class="form-group-section">
                    <h3>Job Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="jobType">Job Type</label>
                            <select id="jobType">
                                <option value="">Select Job Type</option>
                                <option value="leak-repair">Leak Repair</option>
                                <option value="drain-cleaning">Drain Cleaning</option>
                                <option value="water-heater">Water Heater Service</option>
                                <option value="toilet-repair">Toilet Repair/Install</option>
                                <option value="faucet-repair">Faucet Repair/Install</option>
                                <option value="sewer-line">Sewer Line Service</option>
                                <option value="gas-line">Gas Line Service</option>
                                <option value="inspection">Plumbing Inspection</option>
                                <option value="emergency">Emergency Service</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="priority">Priority Level</label>
                            <select id="priority">
                                <option value="normal">Normal</option>
                                <option value="high">High</option>
                                <option value="emergency">Emergency</option>
                                <option value="low">Low</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="jobStatus">Job Status</label>
                            <select id="jobStatus">
                                <option value="quote">Quote Requested</option>
                                <option value="scheduled">Scheduled</option>
                                <option value="enroute">En Route</option>
                                <option value="inprogress">In Progress</option>
                                <option value="completed">Completed</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="assignedTech">Assign Technician</label>
                            <select id="assignedTech">
                                <option value="">Select Technician</option>
                                <option value="Chris Crabtree">Chris Crabtree</option>
                                <option value="Kian Crabtree">Kian Crabtree</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="scheduledDate">Scheduled Date & Time</label>
                            <input type="datetime-local" id="scheduledDate">
                        </div>
                        <div class="form-group">
                            <label for="estimatedDuration">Estimated Duration</label>
                            <select id="estimatedDuration">
                                <option value="">Select Duration</option>
                                <option value="1 hour">1 hour</option>
                                <option value="2 hours">2 hours</option>
                                <option value="3 hours">3 hours</option>
                                <option value="4 hours">4 hours</option>
                                <option value="Half day">Half day</option>
                                <option value="Full day">Full day</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Additional Information -->
                <div class="form-group-section">
                    <h3>Additional Information</h3>
                    <div class="form-group">
                        <label for="notes">Job Notes, Special Instructions, Customer Requests, Problem Description, etc.</label>
                        <textarea id="notes" rows="4" placeholder="Describe the plumbing issue, special access requirements, customer preferences, etc."></textarea>
                    </div>
                </div>

                <button type="submit" class="submit-btn">üíæ Save Customer & Job</button>
            </form>
        </section>

        <!-- Google Maps Section -->
        <section class="map-section">
            <h3>üìç Service Area Map</h3>
            <p>Click on the map to get an address, or view customer locations</p>
            <div id="map" class="map-container"></div>
        </section>

        <!-- Quick Actions for Techs -->
        <section class="quick-actions">
            <h3>üöÄ Quick Actions for Techs</h3>
            <p>Use these buttons for quick status updates. Select customers from the table below first.</p>
            <div class="action-buttons">
                <button id="markScheduled" class="action-btn scheduled">üìÖ Mark Scheduled</button>
                <button id="markEnRoute" class="action-btn enroute">üöó I'm En Route</button>
                <button id="markStarted" class="action-btn inprogress">üîß Job Started</button>
                <button id="markComplete" class="action-btn completed">‚úÖ Job Complete</button>
            </div>
        </section>

        <!-- Customer & Job Records -->
        <section class="records-section">
            <h2>üìã Customer & Job Records</h2>
            
            <div class="table-container">
                <table id="customersTable">
                    <thead>
                        <tr>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Company</th>
                            <th>Address</th>
                            <th>Mobile</th>
                            <th>Email</th>
                            <th>Job Type</th>
                            <th>Priority</th>
                            <th>Status</th>
                            <th>Assigned Tech</th>
                            <th>Scheduled</th>
                            <th>Duration</th>
                            <th>Notes</th>
                            <th>Created</th>
                            <th>Edit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="15" class="loading">Loading customer data...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Status Legend -->
        <section class="legend-section">
            <h3>üìä Status Legend</h3>
            <div class="status-legend">
                <div class="legend-item">
                    <span class="status-badge quote">Quote Requested</span>
                    <span class="description">Customer needs pricing information</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge scheduled">Scheduled</span>
                    <span class="description">Appointment confirmed with customer</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge enroute">En Route</span>
                    <span class="description">Technician is on the way</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge inprogress">In Progress</span>
                    <span class="description">Work is currently being performed</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge completed">Completed</span>
                    <span class="description">Job finished successfully</span>
                </div>
            </div>
        </section>

        <!-- System Information -->
        <section class="system-info">
            <h3>üîß System Information</h3>
            
            <div class="info-grid">
                <div class="info-item">
                    <h4>üî• Firebase Status</h4>
<p>Real-time database for customer and job data</p>
<span id="firebase-status" class="status-indicator">Connecting...</span>

                </div>
                
                <div class="info-item">
                    <h4>üì± Mobile Friendly</h4>
                    <p>Optimized for field technicians on mobile devices</p>
                    <span class="status-indicator ready">Ready</span>
                </div>
                
                <div class="info-item">
                    <h4>üîí Data Security</h4>
                    <p>All customer data is securely stored and encrypted</p>
                    <span class="status-indicator ready">Protected</span>
                </div>
                
                <div class="info-item">
                    <h4>üó∫Ô∏è Maps Integration</h4>
                    <p>Google Maps with address verification and location mapping</p>
                    <span class="status-indicator ready">Active</span>
                </div>
            </div>
        </section>

        <!-- Footer with Logo -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="images/Eagle w Wrench Logo.png" alt="A-1 Affordable Plumbing Services" class="footer-logo-img">
                </div>
                <div class="footer-text">
                    <p>&copy; 2025 A-1 Affordable Plumbing Services ‚Ä¢ Professional Customer & Job Management System</p>
                    <p>üìû 469-900-5194 ‚Ä¢ üìß johnniesue@a-1apsvc.com ‚Ä¢ License: M-43801</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Load Google Maps API with Places library -->
    <script async defer 
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBwP09_HDy1_u_VWDlZbz43CK_17aL-J4I&libraries=places&callback=initializeGoogleMaps">
    </script>
    
    <!-- Load our custom script -->
    <script src="script.js"></script>
</body>
</html>

